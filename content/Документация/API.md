
# Пользователи
Авторизация
Crud пользователя
# Гранты
Crud гранта
Просмотр рекомендованных грантов (DTO)
Просмотр всех грантов (DTO)
Уведомления тг
# Backend
Создать грант (ручной режим)
Создать и обновить гранты от парсера

Обновить грант (ручной режим)

Удалить грант

Получить список всех грантов
Получить список рекомендованных грантов
Получить детальную информацию о гранте

Регистрация/вход через web
Регистрация через tg
Обновление сессии 
Завершение сессии
Получить данные профиля пользователя

# ML
Добавить гранты для обучения;
Получить список рекомендованных грантов;

# Tg bot
Отправить уведомлению пользователю

## **1. Пользователи (Users)**

### **1.1. Авторизация и аутентификация**

- **POST /api/v1/auth/register/web**  
    _Регистрация через Web-клиент._  
    Принимает данные авторизации Telegram Web App, создает пользователя и возвращает JWT-токен.
    
- **POST /api/v1/auth/register/telegram**  
    _Регистрация через Telegram._  
    Принимает данные пользователя из Telegram (например, из бота) и создает запись в системе.
    
- **POST /api/v1/auth/refresh**  
    _Обновление access-токена._  
    Использует HTTP-only refresh cookie для выдачи нового access-токена.
    
- **POST /api/v1/auth/logout**  
    _Завершение сессии._  
    Инвалидирует токены и очищает cookies.
    

### **1.2. Управление профилем**

- **GET /api/v1/users/profile/{id}**** 
    _Получить данные пользователя._  
    Возвращает профиль пользователя.
    
- **PUT /api/v1/users/profile/{id}****
    _Обновить профиль пользователя._  
    Позволяет изменить регион, описание проекта, настройки уведомлений и другие данные.
    

---

## **2. Гранты (Grants)**

### **2.1. Для пользователей**

- **GET /api/v1/grants**  
    _Получить список всех грантов (с пагинацией/фильтрацией)._  
    Возвращает упрощенное DTO грантов для общего просмотра.
    
- **GET /api/v1/grants/recommended**  
    _Получить рекомендованные гранты._  
    Возвращает персонализированный список грантов на основе ML-рекомендаций.
    
- **GET /api/v1/grants/{id}**  
    _Получить детальную информацию о гранте._  
    Возвращает полную модель гранта.
    

### **2.2. Для администраторов/парсера**

- **POST /api/v1/admin/grants**  
    _Создать один или несколько грантов (используется парсером)._  
    Принимает массив объектов гранта, валидирует и сохраняет в БД.
    
- **PUT /api/v1/admin/grants/{id}**  
    _Обновить грант (ручной режим)._  
    Изменяет данные существующего гранта.
    
- **DELETE /api/v1/admin/grants/{id}**  
    _Удалить грант._  
    Удаляет запись гранта из системы.
    

---

## **3. Уведомления (Notifications)**

- **POST /api/v1/notifications/telegram**  
    _Отправить уведомление пользователю через Telegram._  
    Используется для отправки персональных или массовых уведомлений.
    

---

## **4. ML-модуль (Internal)**

Эти эндпоинты используются для внутреннего взаимодействия между Backend и ML-сервисом.

- **POST /ml/process-grants**  
    _Добавить гранты для обработки и векторизации._  
    Backend отправляет новые гранты в ML-модуль после их сохранения в БД.
    
- **POST /ml/recommend**  
    _Получить рекомендации для пользователя._  
    Backend отправляет запрос с ID пользователя и его профилем, ML возвращает список релевантных grant_id с оценками.